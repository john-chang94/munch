[{"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\index.js":"1","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\App.js":"2","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\rootReducer.js":"3","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\SignIn.js":"4","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Navbar.js":"5","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Home.js":"6","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Register.js":"7","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\dashReducer.js":"8","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Restaurant.js":"9","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\authReducer.js":"10","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\starsHelper.js":"11","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\RestaurantCard.js":"12","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\config\\fb.js":"13","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\AddReview.js":"14","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\reviewReducer.js":"15","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Reviews.js":"16","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Footer.js":"17","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\actions\\index.js":"18","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Search.js":"19","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Preloader.js":"20","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\SignInModal.js":"21","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Filters.js":"22","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\RestaurantImages.js":"23","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Profile.js":"24","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\userReducer.js":"25","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\EditUserImageModal.js":"26","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\UserReviews.js":"27","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\EditReview.js":"28"},{"size":518,"mtime":1611181311808,"results":"29","hashOfConfig":"30"},{"size":1897,"mtime":1615508474232,"results":"31","hashOfConfig":"30"},{"size":603,"mtime":1613183506516,"results":"32","hashOfConfig":"30"},{"size":2230,"mtime":1611532910828,"results":"33","hashOfConfig":"30"},{"size":1531,"mtime":1612821404394,"results":"34","hashOfConfig":"30"},{"size":6304,"mtime":1618206619351,"results":"35","hashOfConfig":"30"},{"size":3281,"mtime":1612822707734,"results":"36","hashOfConfig":"30"},{"size":974,"mtime":1615341630372,"results":"37","hashOfConfig":"30"},{"size":4866,"mtime":1618206350694,"results":"38","hashOfConfig":"30"},{"size":965,"mtime":1613182977279,"results":"39","hashOfConfig":"30"},{"size":784,"mtime":1610931497046,"results":"40","hashOfConfig":"30"},{"size":841,"mtime":1618286814334,"results":"41","hashOfConfig":"30"},{"size":695,"mtime":1609726082267,"results":"42","hashOfConfig":"30"},{"size":9132,"mtime":1617329049854,"results":"43","hashOfConfig":"30"},{"size":1546,"mtime":1615518285934,"results":"44","hashOfConfig":"30"},{"size":2152,"mtime":1616361475043,"results":"45","hashOfConfig":"30"},{"size":264,"mtime":1611720385419,"results":"46","hashOfConfig":"30"},{"size":9479,"mtime":1617408992914,"results":"47","hashOfConfig":"30"},{"size":9666,"mtime":1618201280586,"results":"48","hashOfConfig":"30"},{"size":610,"mtime":1610496070819,"results":"49","hashOfConfig":"30"},{"size":2942,"mtime":1613178849419,"results":"50","hashOfConfig":"30"},{"size":2339,"mtime":1612824945896,"results":"51","hashOfConfig":"30"},{"size":1074,"mtime":1618200180554,"results":"52","hashOfConfig":"30"},{"size":10428,"mtime":1615495474086,"results":"53","hashOfConfig":"30"},{"size":711,"mtime":1611794872068,"results":"54","hashOfConfig":"30"},{"size":3309,"mtime":1613183997536,"results":"55","hashOfConfig":"30"},{"size":3674,"mtime":1616368751875,"results":"56","hashOfConfig":"30"},{"size":9713,"mtime":1618203748892,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"v1hx54",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"60"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"60"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"60"},"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\index.js",[],["122","123"],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\App.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\rootReducer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\SignIn.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Navbar.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Home.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Register.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\dashReducer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Restaurant.js",["124"],"import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport M from 'materialize-css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { renderStars } from './starsHelper';\r\nimport AddReview from './AddReview';\r\nimport Reviews from './Reviews';\r\nimport Preloader from './Preloader';\r\n\r\nclass Restaurant extends Component {\r\n    state = {\r\n        stars: [],\r\n        isLoading: true\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const restaurant_id = this.props.match.params.restaurant_id;\r\n\r\n        await this.props.fetchRestaurant(restaurant_id);\r\n        await this.props.fetchImagesForRestaurant(restaurant_id);\r\n        await this.props.fetchReviewsForRestaurant(restaurant_id);\r\n\r\n        // Check if user posted a review for current restaurant\r\n        if (this.props.user && this.props.reviews) {\r\n            this.props.checkUserHasReview(this.props.reviews, this.props.user);\r\n        }\r\n\r\n        // Render rating with stars\r\n        let stars = renderStars(this.props.restaurant.rating);\r\n        this.setState({ stars, isLoading: false })\r\n\r\n        // Initialize media lightbox\r\n        M.Materialbox.init(document.querySelectorAll('.materialboxed'))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.clear();\r\n    }\r\n\r\n    render() {\r\n        const { restaurant, images, reviews, user } = this.props;\r\n        const { stars, isLoading } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                {\r\n                    isLoading\r\n                        ? <div className=\"center mt-5\">\r\n                            <Preloader />\r\n                        </div>\r\n                        : <div>\r\n                            {   // Display restaurant info once fetched\r\n                                restaurant &&\r\n                                <div className=\"mb-1\">\r\n                                    <p className=\"heading\">{restaurant.name}</p>\r\n                                    <p className=\"cat-heading\">{restaurant.categories.map((category, i) =>\r\n                                        <span key={i}>\r\n                                            {\r\n                                                // No comma after the last category\r\n                                                i === restaurant.categories.length - 1 ? category : `${category}, `\r\n                                            }\r\n                                        </span>\r\n                                    )}</p>\r\n                                    <p>{stars} ({restaurant.total_ratings} reviews)</p>\r\n                                    <p>Price range: {'$'.repeat(parseInt(restaurant.price))}</p>\r\n                                </div>\r\n                            }\r\n\r\n                            {\r\n                                images\r\n                                    ? <div>\r\n                                        <div className=\"flex wrap-around justify-se\">\r\n                                            {\r\n                                                images && images.slice(0, 4).map((image, i) => (\r\n                                                    <div className=\"crop mt-1 mb-sm z-depth-2\" key={i}>\r\n                                                        <img className=\"materialboxed\" src={image.image_url} alt=\"\" />\r\n                                                    </div>\r\n                                                ))\r\n                                            }\r\n                                        </div>\r\n\r\n                                        <div className=\"center mt-2\">\r\n                                            <Link className=\"z-depth-1 black-text bg-x-light-gray bg-hover view-all\" to={`/restaurants/${this.props.match.params.restaurant_id}/photos`}>\r\n                                                View All Photos\r\n                                        </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                    : <h5 className=\"center\">No images yet</h5>\r\n                            }\r\n\r\n                            <hr className=\"mt-4 mb-3\" />\r\n\r\n                            <AddReview reviews={reviews} />\r\n\r\n                            <hr className=\"mt-3 mb-3\" />\r\n\r\n                            <Reviews\r\n                                restaurant_id={this.props.match.params.restaurant_id}\r\n                            />\r\n                        </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ dash, review, auth }) => {\r\n    return {\r\n        restaurant: dash.restaurant,\r\n        images: review.images,\r\n        reviews: review.reviews,\r\n        user: auth.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Restaurant);","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\authReducer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\starsHelper.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\RestaurantCard.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\config\\fb.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\AddReview.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\reviewReducer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Reviews.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Footer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\actions\\index.js",["125","126","127","128","129"],"import axios from 'axios';\r\n\r\nconst token = sessionStorage.getItem('token');\r\nif (token) {\r\n    // Set global headers for axios, need to set in other parents components\r\n    const tokenConfig = { 'token': token }\r\n    axios.defaults.headers = tokenConfig\r\n}\r\n\r\nexport const clear = () => {\r\n    return dispatch => dispatch({ type: 'CLEAR_ERROR' })\r\n}\r\n\r\nexport const clearReviews = () => {\r\n    return dispatch => dispatch({ type: 'CLEAR_REVIEWS' })\r\n}\r\n\r\n/////////////////////////////\r\n/////// AUTH ACTIONS ////////\r\n/////////////////////////////\r\n\r\nexport const verifyUser = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/auth/verify`)\r\n            dispatch({ type: 'VERIFY_USER', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'AUTH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const register = body => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/register`, body);\r\n            dispatch({ type: 'REGISTER', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'AUTH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const signIn = body => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/signin`, body);\r\n            sessionStorage.setItem('token', res.data.token);\r\n\r\n            dispatch({ type: 'SIGN_IN', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'AUTH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            sessionStorage.removeItem('token');\r\n            dispatch({ type: 'SIGN_OUT' })\r\n        } catch (err) {\r\n            dispatch({ type: 'AUTH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\n/////////////////////////////\r\n/////// USER ACTIONS ////////\r\n/////////////////////////////\r\n\r\nexport const fetchUser = user_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/users/${user_id}`)\r\n            dispatch({ type: 'FETCH_USER', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateUser = (user_id, body) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/users/${user_id}`, body)\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateUserPassword = (user_id, body) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/users/reset-pw/${user_id}`, body);\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const addUserImage = body => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/users/user_images`, body)\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchUserImage = user_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/users/user_images/${user_id}`)\r\n            dispatch({ type: 'FETCH_USER_IMAGE', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteUserImage = user_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/users/user_images/${user_id}`)\r\n        } catch (err) {\r\n            dispatch({ type: 'USER_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\n/////////////////////////////\r\n/////// DASH ACTIONS ////////\r\n/////////////////////////////\r\n\r\nexport const fetchFeatured = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/restaurants`);\r\n            dispatch({ type: 'FETCH_FEATURED', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'DASH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchRestaurant = restaurant_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/restaurants/${restaurant_id}`)\r\n            dispatch({ type: 'FETCH_RESTAURANT', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'DASH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchImagesForRestaurant = restaurant_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/review_images/restaurants/${restaurant_id}`);\r\n            dispatch({ type: 'FETCH_IMAGES_FOR_RESTAURANT', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'NULL', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const search = queries => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/restaurants${queries}`);\r\n            dispatch({ type: 'SEARCH', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'DASH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchSuggestions = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/suggestions`);\r\n            dispatch({ type: 'FETCH_SUGGESTIONS', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'DASH_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\n/////////////////////////////\r\n////// REVIEWS ACTIONS //////\r\n/////////////////////////////\r\n\r\nexport const addReview = body => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/reviews`, body);\r\n            dispatch({ type: 'ADD_REVIEW', payload: res.data.review })\r\n        } catch (err) {\r\n            dispatch({ type: 'REVIEW_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const addReviewImage = body => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/review_images`, body);\r\n            dispatch({ type: 'ADD_REVIEW_IMAGE', payload: res.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'REVIEW_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchReview = review_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/reviews/${review_id}`);\r\n            dispatch({ type: 'FETCH_REVIEW', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'REVIEW_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchReviewsForRestaurant = restaurant_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/reviews/restaurants/${restaurant_id}`);\r\n            dispatch({ type: 'FETCH_REVIEWS_FOR_RESTAURANT', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'NULL', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const fetchReviewsByUser = user_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/reviews/users/${user_id}`)\r\n            dispatch({ type: 'FETCH_REVIEWS_BY_USER', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'FETCH_REVIEWS_BY_USER', payload: null })\r\n        }\r\n    }\r\n}\r\n\r\nexport const checkUserHasReview = (reviews, user) => {\r\n    return async (dispatch) => {\r\n        const userHasReview = await reviews.filter(review => {\r\n            return user.user_id === review.user_id\r\n        })\r\n        if (userHasReview.length) dispatch({ type: 'SET_USER_HAS_REVIEW', payload: true })\r\n        else dispatch({ type: 'SET_USER_HAS_REVIEW', payload: false })\r\n    }\r\n}\r\n\r\nexport const updateReview = (review_id, body) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}/api/reviews/${review_id}`, body)\r\n            dispatch({ type: 'FETCH_REVIEW', payload: res.data.data })\r\n        } catch (err) {\r\n            dispatch({ type: 'REVIEW_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteReviewImage = review_images_id => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}/api/review_images/${review_images_id}`)\r\n        } catch (err) {\r\n            dispatch({ type: 'REVIEW_ERROR', payload: err.response.data })\r\n        }\r\n    }\r\n}","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Search.js",["130","131","132"],"import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport RestaurantCard from './RestaurantCard';\r\nimport Preloader from './Preloader';\r\nimport Filters from './Filters';\r\n\r\nconst Search = (props) => {\r\n    const [search, setSearch] = useState('');\r\n    const [userSearch, setUserSearch] = useState('');\r\n    const [suggestions, setSuggestions] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [cursor, setCursor] = useState(-1); // No selected background color while typing\r\n    const [price, setPrice] = useState('');\r\n    const [propsPrice, setPropsPrice] = useState();\r\n\r\n    const handleChange = e => {\r\n        const { value } = e.target;\r\n\r\n        if (value) {\r\n            // If user is typing, filter through suggestions with user input value\r\n            let suggestions = props.suggestions.filter(data => {\r\n                return data.param.toLowerCase().startsWith(value.toLowerCase());\r\n            })\r\n            setSearch(value);\r\n            setUserSearch(value); // Temp save user input for setSearchValue\r\n            setSuggestions(suggestions);\r\n        } else {\r\n            // If user is not typing, remove suggestions list\r\n            setSearch('');\r\n            setSuggestions([]);\r\n        }\r\n    }\r\n\r\n    const handleKeyDown = e => {\r\n        if (e.key === 'ArrowUp' && cursor > -1) {\r\n            e.preventDefault(); // Prevent insertion point from moving to the beginning\r\n            setCursor(cursor - 1)\r\n\r\n        } else if (e.key === 'ArrowDown' && cursor < suggestions.length - 1) {\r\n            setCursor(cursor + 1)\r\n\r\n        } else if (e.key === 'Enter') {\r\n            e.preventDefault(); // Prevent duplicate push to history\r\n            let searchValue = document.getElementById('search');\r\n\r\n            props.history.push(`/search?find=${searchValue.value}`);\r\n\r\n            setSuggestions([]);\r\n        }\r\n    }\r\n\r\n    const setSearchValue = (isHovered, suggestion, index) => {\r\n        // Set value of suggestion in search box when isHovered is true\r\n        if (isHovered) {\r\n            setSearch(suggestion.param);\r\n            setCursor(index);\r\n        }\r\n        // Set original value in search box that the user was typing when isHovered is false\r\n        else {\r\n            setSearch(userSearch);\r\n            setCursor(-1);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        props.history.push(`/search?find=${search}`);\r\n\r\n        // Remove suggestions list so onMouseLeave does not trigger after search\r\n        setSuggestions([]);\r\n    }\r\n\r\n    const handleClick = suggestion => {\r\n        props.history.push(`/search?find=${suggestion.param}`);\r\n\r\n        setSuggestions([]);\r\n    }\r\n\r\n    // On component mount\r\n    useEffect(() => {\r\n        const onMount = async () => {\r\n            // URLSearchParams is built-in the browser to work with queries\r\n            const searchQuery = new URLSearchParams(props.history.location.search);\r\n            \r\n            setSearch(searchQuery.get('find'));\r\n            setPrice(searchQuery.get('price'));\r\n            setPropsPrice(searchQuery.get('price'));\r\n\r\n            await props.fetchSuggestions();\r\n            await props.search(props.history.location.search);\r\n            setIsLoading(false);\r\n        }\r\n        onMount();\r\n\r\n        // Clear state on component unmount\r\n        return () => {\r\n            props.clear();\r\n            setPrice('')\r\n        }\r\n    }, [])\r\n\r\n    // On cursor pointer change from arrow keys\r\n    useEffect(() => {\r\n        let item = document.getElementById(cursor);\r\n        let searchValue = document.getElementById('search');\r\n\r\n        if (item) searchValue.value = item.textContent\r\n    }, [cursor])\r\n\r\n    // On url change, set search input value from query\r\n    useEffect(() => {\r\n        // Clear any error message before search results are fetched\r\n        if (props.dashError) props.clear();\r\n        const searchQuery = new URLSearchParams(props.history.location.search);\r\n        setSearch(searchQuery.get('find'));\r\n\r\n        // Separate state for price range as identifier and for props because\r\n        // executing setPrice here will cause the useEffect below to run\r\n        // which will cause this useEffect to run like an endless cycle.\r\n        // Also, an identifier for filters to determine which checkboxes are checked, if any.\r\n        setPropsPrice(searchQuery.get('price'))\r\n\r\n        props.search(props.history.location.search);\r\n\r\n    }, [props.history.location.search])\r\n\r\n    // On price state change, set price range input value from query\r\n    useEffect(() => {\r\n        // Clear any error message when user clicks on a different filter\r\n        if (props.dashError) props.clear();\r\n        const searchQuery = new URLSearchParams(props.history.location.search);\r\n\r\n        if (!price) {\r\n            \r\n            // Load all search results if user removes price filter\r\n            searchQuery.delete('price');\r\n            props.history.push(`/search?${searchQuery}`)\r\n        } else {\r\n            if (searchQuery.has('price')) {\r\n                \r\n                searchQuery.set('price', price);\r\n                props.history.push(`/search?${searchQuery}`)\r\n            } else {\r\n                \r\n                searchQuery.append('price', price);\r\n                props.history.push(`/search?${searchQuery}`)\r\n            }\r\n        }\r\n\r\n    }, [price])\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <Filters\r\n                price={price}\r\n                propsPrice={propsPrice}\r\n                setPrice={setPrice}\r\n            />\r\n            <div className=\"col l8 m8 s12\">\r\n                <form className=\"mt-3\" onSubmit={handleSubmit}>\r\n                    <div className=\"input-field\" id=\"search-area\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search for restaurants...\"\r\n                            id=\"search\"\r\n                            value={search}\r\n                            onChange={handleChange}\r\n                            autoComplete=\"off\"\r\n                            onKeyDown={handleKeyDown}\r\n                        />\r\n                        <ul>\r\n                            {\r\n                                // Render suggestions, if any\r\n                                suggestions &&\r\n                                suggestions.map((suggestion, i) => (\r\n                                    <li key={i}\r\n                                        id={i}\r\n                                        style={cursor === i ? { backgroundColor: 'rgb(233, 233, 233)' } : {} }\r\n                                        onClick={handleClick.bind(this, suggestion)}\r\n                                        onMouseEnter={setSearchValue.bind(this, true, suggestion, i)}\r\n                                        onMouseLeave={setSearchValue.bind(this, false, suggestion, i)}\r\n                                    >{suggestion.param}</li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                        <button className=\"btn mt-sm\">Search</button>\r\n                    </div>\r\n                </form>\r\n\r\n                <div>\r\n                    <h4>Results</h4>\r\n                </div>\r\n\r\n                <div>\r\n                    {\r\n                        isLoading\r\n                            ? <div className=\"center\">\r\n                                <Preloader />\r\n                            </div>\r\n                            : <div>\r\n                                {\r\n                                    // Render error message if no restaurants found with price filter\r\n                                    props.dashError &&\r\n                                    <div className=\"center\">\r\n                                        <p>{props.dashError}</p>\r\n                                    </div>\r\n                                }\r\n\r\n                                {\r\n                                    // Only render when restaurants are found without error\r\n                                    (props.results && !props.dashError) &&\r\n                                    props.results.map((restaurant) => (\r\n                                        <div key={restaurant.restaurant_id}>\r\n                                            <Link to={`/restaurants/${restaurant.restaurant_id}`} className=\"black-text\">\r\n                                                <RestaurantCard\r\n                                                    name={restaurant.name}\r\n                                                    categories={restaurant.categories}\r\n                                                    rating={restaurant.rating}\r\n                                                    total_ratings={restaurant.total_ratings}\r\n                                                    price={restaurant.price}\r\n                                                />\r\n                                            </Link>\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        results: state.dash.results,\r\n        suggestions: state.dash.suggestions,\r\n        dashError: state.dash.dashError\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Search);","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Preloader.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\SignInModal.js",[],["133","134"],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Filters.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\RestaurantImages.js",["135"],"import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport M from 'materialize-css';\r\n\r\nclass RestaurantImages extends Component {\r\n    async componentDidMount() {\r\n        await this.props.fetchImagesForRestaurant(this.props.match.params.restaurant_id);\r\n        M.Materialbox.init(document.querySelectorAll('.materialboxed'))\r\n    }\r\n\r\n    render() {\r\n        const { images } = this.props;\r\n        return (\r\n            <div className=\"container flex wrap-around justify-se\">\r\n                {\r\n                    images && images.map((image, i) => (\r\n                        <div key={i} className=\"mt-2 all-img z-depth-2\">\r\n                            <img className=\"materialboxed\" src={image.image_url} />\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        images: state.review.images\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(RestaurantImages);","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\Profile.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\reducers\\userReducer.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\EditUserImageModal.js",["136"],"import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport Modal from 'react-modal';\r\nimport { storage } from '../config/fb';\r\n\r\nclass EditUserImageModal extends Component {\r\n    state = {\r\n        file: ''\r\n    }\r\n\r\n    handleImageUpload = e => {\r\n        if (e.target.files[0]) {\r\n            const file = e.target.files[0];\r\n            const user_id = this.props.user.user_id;\r\n\r\n            const uploadTask = storage.ref(`/images/users/${file.name}`).put(file);\r\n            uploadTask.on('state_changed', console.log, console.error, () => {\r\n                storage\r\n                    .ref('images/users') // Images folder in firebase storage\r\n                    .child(file.name) // Child is the level inside images directory\r\n                    .getDownloadURL() // Fetch image URL from firebase\r\n                    .then(async (url) => {\r\n                        const imageBody = { user_id, image_url: url, def: false };\r\n                        // Add image url to db\r\n                        await this.props.addUserImage(imageBody);\r\n                        // Fetch updated image to display from props\r\n                        this.props.fetchUserImage(user_id);\r\n\r\n                        this.props.closeModal();\r\n                    });\r\n            });\r\n        }\r\n    }\r\n\r\n    handleImageDelete = async () => {\r\n        if (window.confirm('Are you sure you want to delete?')) {\r\n            await this.props.deleteUserImage(this.props.user.user_id);\r\n            await this.props.fetchUserImage(this.props.user.user_id);\r\n            this.props.closeModal();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { modalIsOpen, closeModal, userImage } = this.props;\r\n        const customStyles = {\r\n            content: {\r\n                top: '40%',\r\n                left: '50%',\r\n                right: 'auto',\r\n                bottom: 'auto',\r\n                marginRight: '-50%',\r\n                transform: 'translate(-50%, -50%)',\r\n                width: '450px'\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Modal\r\n                isOpen={modalIsOpen}\r\n                style={customStyles}\r\n                onRequestClose={closeModal}\r\n                ariaHideApp={false}\r\n            >\r\n                <div className=\"center\">\r\n                    <div>\r\n                        <img src={userImage.image_url} style={{ maxHeight: '350px', maxWidth: '75%' }} alt=\"\" />\r\n                        {\r\n                            !userImage.user_id == 0 &&\r\n                            <p className=\"red-text darken-1 pointer\" onClick={this.handleImageDelete}>Delete profile picture</p>\r\n                        }\r\n                    </div>\r\n                    <div className=\"mt-1\">\r\n                        <p className=\"mb-sm\"><strong>Upload image</strong></p>\r\n                        <input type=\"file\" onChange={this.handleImageUpload} />\r\n                    </div>\r\n                    <div className=\"mt-1\">\r\n                        <button className=\"btn-small blue-grey lighten-4 black-text\" onClick={closeModal}>Close</button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, actions)(EditUserImageModal);","C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\UserReviews.js",[],"C:\\Users\\chang\\Desktop\\Back to Square One\\munch\\client\\src\\components\\EditReview.js",["137"],"import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport { storage } from '../config/fb';\r\nimport moment from 'moment';\r\n\r\nclass EditReview extends React.Component {\r\n    state = {\r\n        stars: [],\r\n        rating: '',\r\n        details: '',\r\n        files: '',\r\n        submitLoading: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.fetchReview(this.props.match.params.review_id);\r\n        await this.setState({\r\n            details: this.props.review.details,\r\n            rating: this.props.review.rating\r\n        })\r\n        await this.renderStars(this.props.review.rating);\r\n        M.updateTextFields();\r\n    }\r\n\r\n    // Different from renderStars helper because stars\r\n    // have onChange effect to edit the rating if needed\r\n    renderStars = (rating) => {\r\n        let stars = [];\r\n        for (let i = 1; i < 6; i++) {\r\n            if (i <= rating) {\r\n                // Add a whole star\r\n                // Key is required because stars gets rendered as an array in components\r\n                stars.push(<i className=\"fas fa-star yellow-text text-darken-2 pointer\" key={i} onClick={() => this.handleRating(i)}></i>)\r\n                // Add a half star if rating is a decimal and is equal to current loop index\r\n            } else if (i === Math.ceil(rating) && !Number.isInteger(rating)) {\r\n                stars.push(<i className=\"fas fa-star-half-alt yellow-text text-darken-2 pointer\" key={i} onClick={() => this.handleRating(i)}></i>)\r\n            } else {\r\n                // Add an empty star\r\n                stars.push(<i className=\"far fa-star yellow-text text-darken-2 pointer\" key={i} onClick={() => this.handleRating(i)}></i>)\r\n            }\r\n        }\r\n        this.setState({ stars })\r\n    }\r\n\r\n    handleRating = starIndex => {\r\n        // Font Awesome & Materialize classes for filled and empty stars\r\n        const filled = 'fas fa-star yellow-text text-darken-2 pointer';\r\n        const empty = 'far fa-star yellow-text text-darken-2 pointer';\r\n        let stars = [];\r\n\r\n        for (let i = 0; i < 5; i++) {\r\n            // If the selected star index is >= current loop index,\r\n            // add a filled star, otherwise add an empty star\r\n            stars.push(\r\n                <i className={starIndex >= i\r\n                    ? filled\r\n                    : empty}\r\n                    key={i}\r\n                    onClick={() => this.handleRating(i)}>\r\n                </i>\r\n            )\r\n        }\r\n\r\n        this.setState({\r\n            rating: starIndex + 1, // Rating must be from 1 to 5\r\n            stars\r\n        })\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ [e.target.id]: e.target.value })\r\n    }\r\n\r\n    handleImage = e => {\r\n        this.setState({ files: e.target.files })\r\n    }\r\n\r\n    deleteImage = image => {\r\n        const confirmDelete = window.confirm('Delete image?');\r\n        if (confirmDelete) {\r\n            // Ref image in fb based on its URL\r\n            const deleteTask = storage.refFromURL(image[1]).delete()\r\n                .then(async () => {\r\n                    // image[0] contains the review_images_id\r\n                    await this.props.deleteReviewImage(image[0]);\r\n                    await this.props.fetchReview(this.props.review.review_id);\r\n                    M.toast({ html: 'Image deleted successfully', classes: 'light-blue darken-2' })\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    uploadImages = async (files, review_id, restaurant_id, user_id) => {\r\n        for (let i = 0; i < files.length; i++) {\r\n            // Upload image to firebase storage\r\n            const uploadTask = storage.ref(`/images/reviews/${files[i].name}`).put(files[i]);\r\n            uploadTask.on('state_changed', console.log, console.error, () => {\r\n                storage\r\n                    .ref('images/reviews') // Reference review images folder location\r\n                    .child(files[i].name) // Child is the level inside /reviews directory\r\n                    .getDownloadURL() // Fetch image URL from firebase\r\n                    .then(async (url) => {\r\n                        const imageBody = { restaurant_id, user_id, review_id, image_url: url }\r\n                        // Add image url to db with required foreign keys\r\n                        await this.props.addReviewImage(imageBody);\r\n\r\n                        // Update page once loop is done\r\n                        if (i === files.length - 1) {\r\n                            setTimeout(async () => {\r\n                                // Update view\r\n                                await this.props.fetchReview(review_id);\r\n\r\n                                // Show success message and update component state\r\n                                M.toast({ html: 'Review update success!', classes: \"light-blue darken-2\" });\r\n                                await this.setState({\r\n                                    details: this.props.review.details,\r\n                                    rating: this.props.review.rating,\r\n                                    submitLoading: false\r\n                                })\r\n\r\n                                M.updateTextFields();\r\n                            }, 1200);\r\n                        }\r\n                    });\r\n            });\r\n        }\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ submitLoading: true })\r\n        const { rating, details, files } = this.state;\r\n        const user_id = this.props.review.user_id;\r\n        const review_id = this.props.review.review_id;\r\n        const restaurant_id = this.props.review.restaurant_id;\r\n        const body = { review_id, restaurant_id, user_id, rating, details, updated_at: moment(Date.now()).format('yyyy-MM-DD') };\r\n\r\n        // Update review in db\r\n        await this.props.updateReview(review_id, body);\r\n\r\n        // Stop submit if any errors from review update\r\n        if (this.props.reviewError) {\r\n            M.toast({ html: this.props.reviewError, classes: \"red darken-1\" })\r\n            this.setState({ submitLoading: false })\r\n            return this.props.clear(); // Clear reviewError in redux store\r\n        }\r\n\r\n        // Run if there are no images to upload\r\n        if (!files) {\r\n            M.toast({ html: 'Review update success!', classes: \"light-blue darken-2\" })\r\n            this.setState({\r\n                details: this.props.review.details,\r\n                submitLoading: false\r\n            })\r\n\r\n            // Refresh review\r\n            await this.props.fetchReview(review_id);\r\n            M.updateTextFields();\r\n        }\r\n\r\n        // Run if there are images to upload\r\n        if (files) {\r\n            this.uploadImages(files, review_id, restaurant_id, user_id);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { details, stars, submitLoading } = this.state;\r\n        const { review, match } = this.props;\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"mt-1 pointer-u\">\r\n                    <Link to={`/profile/${match.params.user_id}/reviews`} className=\"teal-text\">\r\n                        <i className=\"fas fa-arrow-left\"></i> My Reviews\r\n                    </Link>\r\n                </div>\r\n                <div className=\"mt-1\">\r\n                    <div>\r\n                        <p>{stars}</p>\r\n                    </div>\r\n                    <div className=\"input-field mt-2\">\r\n                        <textarea\r\n                            className=\"materialize-textarea\"\r\n                            id=\"details\"\r\n                            value={details}\r\n                            onChange={this.handleChange}\r\n                            disabled={submitLoading}\r\n                            autoFocus\r\n                        >\r\n                        </textarea>\r\n                        <label htmlFor=\"details\">Details</label>\r\n                    </div>\r\n                    <div className=\"flex mb-sm row\">\r\n                        {\r\n                            // Load if the review has images\r\n                            (review && review.images)\r\n                            && review.images.map((image, i) => (\r\n                                <div key={i}>\r\n                                    <div className=\"mr-sm all-img\">\r\n                                        <img src={image[1]} alt=\"\" />\r\n                                    </div>\r\n                                    <div className=\"mt-sm\">\r\n                                        <button className=\"btn-small red darken-1\" onClick={this.deleteImage.bind(this, image)}>Delete</button>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <p>Add photos (optional)</p>\r\n                        <input type=\"file\" onChange={this.handleImage} disabled={submitLoading} multiple />\r\n                    </div>\r\n                    <div className=\"mt-1\">\r\n                        <button className=\"btn\" disabled={submitLoading} onClick={this.handleSubmit}>\r\n                            {submitLoading ? 'Updating...' : 'Submit'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ review }) => {\r\n    return {\r\n        review: review.review\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(EditReview);",{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","severity":1,"message":"143","line":43,"column":46,"nodeType":"144","messageId":"145","endLine":43,"endColumn":50},{"ruleId":"142","severity":1,"message":"146","line":86,"column":19,"nodeType":"144","messageId":"145","endLine":86,"endColumn":22},{"ruleId":"142","severity":1,"message":"146","line":96,"column":19,"nodeType":"144","messageId":"145","endLine":96,"endColumn":22},{"ruleId":"142","severity":1,"message":"146","line":106,"column":19,"nodeType":"144","messageId":"145","endLine":106,"endColumn":22},{"ruleId":"142","severity":1,"message":"146","line":127,"column":19,"nodeType":"144","messageId":"145","endLine":127,"endColumn":22},{"ruleId":"142","severity":1,"message":"146","line":276,"column":19,"nodeType":"144","messageId":"145","endLine":276,"endColumn":22},{"ruleId":"147","severity":1,"message":"148","line":102,"column":8,"nodeType":"149","endLine":102,"endColumn":10,"suggestions":"150"},{"ruleId":"147","severity":1,"message":"148","line":127,"column":8,"nodeType":"149","endLine":127,"endColumn":39,"suggestions":"151"},{"ruleId":"147","severity":1,"message":"148","line":152,"column":8,"nodeType":"149","endLine":152,"endColumn":15,"suggestions":"152"},{"ruleId":"138","replacedBy":"153"},{"ruleId":"140","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":19,"column":29,"nodeType":"157","endLine":19,"endColumn":84},{"ruleId":"158","severity":1,"message":"159","line":69,"column":48,"nodeType":"160","messageId":"161","endLine":69,"endColumn":50},{"ruleId":"142","severity":1,"message":"162","line":85,"column":19,"nodeType":"144","messageId":"145","endLine":85,"endColumn":29},"no-native-reassign",["163"],"no-negated-in-lhs",["164"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'res' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["165"],["166"],["167"],["163"],["164"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'deleteTask' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"168","fix":"169"},{"desc":"170","fix":"171"},{"desc":"172","fix":"173"},"Update the dependencies array to be: [props]",{"range":"174","text":"175"},"Update the dependencies array to be: [props, props.history.location.search]",{"range":"176","text":"177"},"Update the dependencies array to be: [price, props]",{"range":"178","text":"179"},[3581,3583],"[props]",[4612,4643],"[props, props.history.location.search]",[5533,5540],"[price, props]"]